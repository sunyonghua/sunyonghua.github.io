(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{71:function(t,s,a){"use strict";a.r(s);var e=a(0),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h4",{attrs:{id:"tcp-三次握手-四次挥手"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tcp-三次握手-四次挥手"}},[t._v("#")]),t._v(" TCP 三次握手 四次挥手")]),t._v(" "),a("blockquote",[a("p",[t._v("TCP是面向连接的协议。运输连接是用来传送TCP报文的。TCP的运输连接有三个过程，即建立连接、数据传输和连接释放。")])]),t._v(" "),a("ul",[a("li",[t._v("第一次握手 ：客户端向服务端发送SYN码为1 Seq=x")]),t._v(" "),a("li",[t._v("第二次握手 ：服务端LISTEN 向客户端发送确认码 ACK=1 SYN = 1 Seq = y ack=x+1")]),t._v(" "),a("li",[t._v("第三次握手 ：客户端向服务器确认 ACK=1 Seq = x+1 ack=y+1 建立连接 此时可以发送数据")])]),t._v(" "),a("div",{staticClass:"language-nginx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-nginx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 最初两端的TCP进程都处于CLOSE(关闭)状态。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# A主动打开连接，B被动打开连接。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# B打开连接后处于LISTEN(监听状态)，等待客户的连接请求。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# A向B发送请求报文，SYN=1,ACK=0,选择一个初始序号seq=x。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# B 收到连接请求报文，如果同意建立连接，则向 A 发送连接确认报文，SYN=1，ACK=1，确认号为ack= x+1，同时也选择一个初始的序号 seq=y。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# A 收到 B 的连接确认报文后，还要向 B 发出确认，确认号为ack= y+1，序号为 seq=x+1。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# B 收到 A 的确认后，连接建立。")]),t._v("\n")])])]),a("h6",{attrs:{id:"tcp-连接建立过程中主要解决以下三个问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tcp-连接建立过程中主要解决以下三个问题"}},[t._v("#")]),t._v(" TCP 连接建立过程中主要解决以下三个问题")]),t._v(" "),a("ul",[a("li",[t._v("要使每一方都能够确认对方的存在")]),t._v(" "),a("li",[t._v("要允许双方协商一些参数")]),t._v(" "),a("li",[t._v("能够对运输实体资源进行一些分配")])])])}),[],!1,null,null,null);s.default=n.exports}}]);